<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paycheck Tracker v21</title>
<style>
:root {
  --bg:#fff7f2;
  --text:#333;
  --accent:#ffd8a8;
  --income:#ffe066;
  --bonus:#ff85a2;
  --freelance:#6ec6ff;
  --other:#c084fc;
  --paid:#4ade80;
  --unpaid:#d1d5db;
  --card-bg:#fff;
  --card-shadow:0 3px 8px rgba(0,0,0,0.1);
}
body{
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "SF Pro", sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  display:flex; justify-content:space-between; align-items:center;
  padding:12px; border-bottom:1px solid rgba(0,0,0,.1);
}
button{
  background:var(--accent);
  color:#333;
  border:none;
  border-radius:12px;
  padding:8px 12px;
  font-size:14px;
  cursor:pointer;
  transition: transform 0.1s ease;
}
button:active{
  transform: scale(0.95);
}
.summary-container{
  padding:12px;
}
.summary{
  background:var(--card-bg);
  border-radius:16px;
  padding:12px;
  box-shadow:var(--card-shadow);
  font-size:16px;
  font-weight:500;
}
.card{
  background:var(--card-bg);
  border-radius:16px;
  padding:12px;
  margin:10px 12px;
  box-shadow:var(--card-shadow);
  transition: transform 0.1s ease;
}
.card:active{
  transform: scale(0.98);
}
input, select{
  width:100%;
  padding:8px;
  font-size:14px;
  border-radius:8px;
  border:1px solid #ccc;
  box-sizing:border-box;
  margin-top:4px;
}
.mini-caption{
  font-size:11px;
  color:#777;
  margin-top:2px;
}
.switch{
  position:relative;
  display:inline-block;
  width:50px;
  height:28px;
}
.switch input{
  opacity:0;
  width:0;
  height:0;
}
.slider{
  position:absolute;
  cursor:pointer;
  top:0; left:0; right:0; bottom:0;
  background-color:var(--unpaid);
  border-radius:28px;
  transition: 0.4s;
}
.slider:before{
  position:absolute;
  content:"";
  height:22px;
  width:22px;
  left:3px;
  bottom:3px;
  background-color:white;
  border-radius:50%;
  transition: 0.4s;
}
input:checked + .slider{
  background-color:var(--paid);
}
input:checked + .slider:before{
  transform:translateX(22px);
}
#totals{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:var(--card-bg);
  padding:10px;
  box-shadow:0 -2px 5px rgba(0,0,0,0.1);
  font-weight:600;
  display:flex;
  justify-content:space-around;
  z-index:3;
}
</style>
</head>
<body>

<header>
<h2>üí∞ Paycheck Tracker</h2>
<div>
<button id="addIncomeBtn">‚ûï Add Income</button>
<button id="addBillBtn">‚ûï Add Bill</button>
</div>
</header>

<div class="summary-container">
<div class="summary" id="summary"></div>
</div>

<div id="entries"></div>

<div id="totals">
<span id="totalIncome">Income: $0.00</span>
<span id="totalBills">Bills: $0.00</span>
<span id="balanceLeft">Left: $0.00</span>
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{
let incomes=JSON.parse(localStorage.getItem("incomes"))||[];
let bills=JSON.parse(localStorage.getItem("bills"))||[];

const save=()=>{localStorage.setItem("incomes",JSON.stringify(incomes)); localStorage.setItem("bills",JSON.stringify(bills));}
const fmt=v=>`$${(parseFloat(v)||0).toFixed(2)}`;

const renderTotals=()=>{
const totalInc=incomes.reduce((t,i)=>t+(+i.actual||0),0);
const totalBills=bills.reduce((t,b)=>t+(+b.amount||0),0);
const paidInc=incomes.filter(i=>i.paidDate).reduce((t,i)=>t+(+i.actual||0),0);
const paidBills=bills.filter(b=>b.paidDate).reduce((t,b)=>t+(+b.amount||0),0);
document.getElementById("totalIncome").innerText=`Income: ${fmt(totalInc)}`;
document.getElementById("totalBills").innerText=`Bills: ${fmt(totalBills)}`;
document.getElementById("balanceLeft").innerText=`Left: ${fmt(paidInc-paidBills)}`;
document.getElementById("summary").innerText=`Monthly Income: ${fmt(totalInc)} | Bills: ${fmt(totalBills)} | Left: ${fmt(paidInc-paidBills)}`;
}

const render=()=>{
const container=document.getElementById("entries");
container.innerHTML="";

// Render incomes
incomes.forEach((i,index)=>{
const card=document.createElement("div");
card.className="card";
card.innerHTML=`
<label>Income Type
<select>
<option ${i.type==="Salary"?"selected":""}>Salary</option>
<option ${i.type==="Bonus"?"selected":""}>Bonus</option>
<option ${i.type==="Freelance"?"selected":""}>Freelance</option>
<option ${i.type==="Other"?"selected":""}>Other</option>
</select>
<div class="mini-caption">Select income type</div>
</label>
<label>Custom Description
<input type="text" value="${i.custom||''}">
<div class="mini-caption">Optional description</div>
</label>
<label>Expected Amount ($)
<input type="text" value="${i.expected||0}">
<div class="mini-caption">Enter expected income</div>
</label>
<label>Actual Amount ($)
<input type="text" value="${i.actual||0}">
<div class="mini-caption">Enter actual income</div>
</label>
<label>Date Paid
<input type="date" value="${i.paidDate||''}">
<div class="mini-caption">Date received</div>
</label>
<button>üóëÔ∏è Remove</button>
`;

const sel=card.querySelector("select");
sel.onchange=e=>{i.type=sel.value; save(); renderTotals();}

const customInput=card.querySelectorAll("input")[0];
customInput.oninput=e=>{i.custom=customInput.value; save();}

const expectedInput=card.querySelectorAll("input")[1];
expectedInput.oninput=e=>expectedInput.value=expectedInput.value.replace(/[^0-9.]/g,'');
expectedInput.onblur=e=>{i.expected=parseFloat(expectedInput.value)||0; save(); renderTotals();}

const actualInput=card.querySelectorAll("input")[2];
actualInput.oninput=e=>actualInput.value=actualInput.value.replace(/[^0-9.]/g,'');
actualInput.onblur=e=>{i.actual=parseFloat(actualInput.value)||0; save(); renderTotals();}

const dateInput=card.querySelectorAll("input")[3];
dateInput.oninput=e=>{i.paidDate=dateInput.value; save(); renderTotals();}

const del=card.querySelector("button");
del.onclick=()=>{incomes.splice(index,1); save(); render();}

container.appendChild(card);
});

// Render bills
bills.forEach((b,index)=>{
const card=document.createElement("div");
card.className="card";
card.innerHTML=`
<label>Bill Name
<input type="text" value="${b.name||''}">
<div class="mini-caption">Bill name</div>
</label>
<label>Amount ($)
<input type="text" value="${b.amount||0}">
<div class="mini-caption">Amount due</div>
</label>
<label>Date Due
<input type="date" value="${b.due||''}">
<div class="mini-caption">Due date</div>
</label>
<label>Paid
<label class="switch">
<input type="checkbox" ${b.paidDate?"checked":""}>
<span class="slider"></span>
</label>
<div class="mini-caption">Toggle when paid</div>
</label>
<label>Date Paid
<input type="date" value="${b.paidDate||''}">
<div class="mini-caption">Date paid</div>
</label>
<button>üóëÔ∏è Remove</button>
`;

const nameI=card.querySelectorAll("input")[0];
const amtI=card.querySelectorAll("input")[1];
const dueI=card.querySelectorAll("input")[2];
const paidChk=card.querySelectorAll("input")[3];
const paidDateI=card.querySelectorAll("input")[4];
const del=card.querySelector("button");

nameI.oninput=e=>{b.name=nameI.value; save();}
amtI.oninput=e=>amtI.value=amtI.value.replace(/[^0-9.]/g,'');
amtI.onblur=e=>{b.amount=parseFloat(amtI.value)||0; save(); renderTotals();}
dueI.oninput=e=>{b.due=dueI.value; save();}
paidChk.onchange=e=>{
if(paidChk.checked){const today=new Date().toISOString().split("T")[0];b.paidDate=today; paidDateI.value=today;}
else{b.paidDate=""; paidDateI.value="";}
save(); renderTotals();
}
paidDateI.oninput=e=>{b.paidDate=paidDateI.value; save(); renderTotals();}
del.onclick=()=>{bills.splice(index,1); save(); render();}

container.appendChild(card);
});

renderTotals();
}

document.getElementById("addIncomeBtn").onclick=()=>{
incomes.push({type:"Salary",custom:"",expected:0,actual:0,paidDate:""});
save(); render();
}
document.getElementById("addBillBtn").onclick=()=>{
bills.push({name:"",amount:0,due:"",paidDate:""});
save(); render();
}

render();
});
</script>

</body>
</html>