<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paycheck Tracker Test</title>
<style>
body { font-family: sans-serif; padding: 12px; background: #fdf6ec; }
button { padding:6px 12px; margin:4px; cursor:pointer; }
table { width: 100%; border-collapse: collapse; margin-top: 8px; }
th, td { border: 1px solid #ccc; padding: 4px; text-align:left; }
</style>
</head>
<body>

<h2>Income</h2>
<button id="addIncomeBtn">Add Income</button>
<table id="incomeTable">
  <thead>
    <tr><th>Type</th><th>Description</th><th>Expected</th><th>Actual</th><th>Date Paid</th><th>Remove</th></tr>
  </thead>
  <tbody></tbody>
</table>

<h2>Bills</h2>
<button id="addBillBtn">Add Bill</button>
<table id="billTable">
  <thead>
    <tr><th>Name</th><th>Amount</th><th>Due</th><th>Paid Date</th><th>Remove</th></tr>
  </thead>
  <tbody></tbody>
</table>

<script>
let incomes = [];
let bills = [];

function renderIncomes() {
  const tbody = document.querySelector("#incomeTable tbody");
  tbody.innerHTML = "";
  incomes.forEach((i, idx) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><input type="text" value="${i.type || 'Salary'}"></td>
      <td><input type="text" value="${i.desc || ''}"></td>
      <td><input type="number" value="${i.expected || 0}"></td>
      <td><input type="number" value="${i.actual || 0}"></td>
      <td><input type="date" value="${i.paid || ''}"></td>
      <td><button class="removeIncomeBtn">Remove</button></td>
    `;
    tr.querySelector(".removeIncomeBtn").addEventListener("click", () => {
      incomes.splice(idx,1);
      renderIncomes();
    });
    tbody.appendChild(tr);
  });
}

function renderBills() {
  const tbody = document.querySelector("#billTable tbody");
  tbody.innerHTML = "";
  bills.forEach((b, idx) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><input type="text" value="${b.name || ''}"></td>
      <td><input type="number" value="${b.amount || 0}"></td>
      <td><input type="date" value="${b.due || ''}"></td>
      <td><input type="date" value="${b.paid || ''}"></td>
      <td><button class="removeBillBtn">Remove</button></td>
    `;
    tr.querySelector(".removeBillBtn").addEventListener("click", () => {
      bills.splice(idx,1);
      renderBills();
    });
    tbody.appendChild(tr);
  });
}

// Attach buttons AFTER DOM loads
document.getElementById("addIncomeBtn").addEventListener("click", () => {
  incomes.push({type:"Salary", desc:"", expected:0, actual:0, paid:""});
  renderIncomes();
});
document.getElementById("addBillBtn").addEventListener("click", () => {
  bills.push({name:"", amount:0, due:"", paid:""});
  renderBills();
});
</script>

</body>
</html>